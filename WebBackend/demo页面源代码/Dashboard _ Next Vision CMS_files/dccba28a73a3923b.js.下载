(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,857378,e=>{"use strict";var s=e.i(843476),t=e.i(657688),a=e.i(526732),r=e.i(271645),l=e.i(935399),n=e.i(618566);function i({open:e,title:t,children:a,onClose:r,closable:l=!0,showInput:n=!1,inputValue:i="",onInputChange:o,inputPlaceholder:d="",inputMaxLength:c=50,inputLabel:m="",showButtons:x=!1,primaryButtonText:u="Save",secondaryButtonText:h="Cancel",onPrimaryClick:p,onSecondaryClick:b,primaryButtonDisabled:g=!1,loading:f=!1}){return e?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-xs animate__animated animate__fadeIn animate__faster","aria-hidden":"true",onClick:()=>{l&&r?.()}}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md mx-4 rounded-md border border-white/5     bg-[#171717] text-white shadow-xl animate__animated animate__zoomIn",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"px-5 py-4 border-b border-white/5 flex items-center justify-between",children:(0,s.jsx)("h3",{className:"text-base font-semibold",children:t})}),(0,s.jsxs)("div",{className:"px-5 py-4",children:[a,n&&(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[m&&(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:m}),(0,s.jsx)("input",{type:"text",value:i,onChange:e=>o?.(e.target.value),className:"w-full px-3 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:d,maxLength:c,autoFocus:!0}),c&&(0,s.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[i.length,"/",c," characters"]})]})}),x&&(0,s.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,s.jsx)("button",{onClick:p,disabled:g||f,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),"Updating..."]}):u}),(0,s.jsx)("button",{onClick:b,className:"bg-red-500/30 hover:bg-red-500/50 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:h})]})]})]})]}):null}var o=e.i(286536),d=e.i(77705),c=e.i(270756);function m({open:e,onClose:t,onSuccess:a}){var l;let n,[i,m]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[x,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[b,g]=(0,r.useState)(!1),[f,w]=(0,r.useState)(!1),[y,j]=(0,r.useState)(null);if(!e)return null;let v=()=>i.currentPassword?i.newPassword.length<8?"New password must be at least 8 characters long":i.newPassword!==i.confirmPassword?"Passwords do not match":i.currentPassword===i.newPassword?"New password must be different from current password":null:"Current password is required",N=async()=>{let e=v();if(e)return void j(e);w(!0),j(null);try{let e=await fetch("/api/user/password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:i.currentPassword,newPassword:i.newPassword})}),s=await e.json();s.success?(m({currentPassword:"",newPassword:"",confirmPassword:""}),a()):j(s.error||"Failed to change password")}catch(e){console.error("Password change error:",e),j("Failed to change password. Please try again.")}finally{w(!1)}},k=()=>{f||(m({currentPassword:"",newPassword:"",confirmPassword:""}),j(null),u(!1),p(!1),g(!1),t())},C=(l=i.newPassword,n=0,l.length>=8&&(n+=1),/[a-z]/.test(l)&&(n+=1),/[A-Z]/.test(l)&&(n+=1),/[0-9]/.test(l)&&(n+=1),/[^A-Za-z0-9]/.test(l)&&(n+=1),n),P=(e=>{switch(e){case 0:case 1:default:return{label:"Very Weak",color:"text-red-500"};case 2:return{label:"Weak",color:"text-orange-500"};case 3:return{label:"Fair",color:"text-yellow-500"};case 4:return{label:"Good",color:"text-green-500"};case 5:return{label:"Strong",color:"text-green-600"}}})(C),S=null===v();return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-xs animate__animated animate__fadeIn animate__faster","aria-hidden":"true",onClick:k}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md mx-4 rounded-md border border-white/5  bg-[#171717] text-white shadow-xl animate__animated animate__zoomIn",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-5 py-4 border-b border-white/5 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-base font-semibold",children:"Change Password"}),(0,s.jsx)("button",{type:"button","aria-label":"Close",className:"text-white/70 hover:text-white",onClick:k,disabled:f,children:"✕"})]}),(0,s.jsx)("div",{className:"px-5 py-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(c.Lock,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"currentPassword",name:"currentPassword",type:x?"text":"password",value:i.currentPassword,onChange:e=>{m(s=>({...s,currentPassword:e.target.value})),j(null)},className:"block w-full pl-10 pr-12 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:"Enter your current password",disabled:f}),(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!x),disabled:f,children:x?(0,s.jsx)(d.EyeOff,{className:"h-4 w-4 text-gray-400 hover:text-gray-300"}):(0,s.jsx)(o.Eye,{className:"h-4 w-4 text-gray-400 hover:text-gray-300"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(c.Lock,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"newPassword",name:"newPassword",type:h?"text":"password",value:i.newPassword,onChange:e=>{m(s=>({...s,newPassword:e.target.value})),j(null)},className:"block w-full pl-10 pr-12 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:"Enter your new password",disabled:f}),(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!h),disabled:f,children:h?(0,s.jsx)(d.EyeOff,{className:"h-4 w-4 text-gray-400 hover:text-gray-300"}):(0,s.jsx)(o.Eye,{className:"h-4 w-4 text-gray-400 hover:text-gray-300"})})]}),i.newPassword&&(0,s.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(e=>(0,s.jsx)("div",{className:`h-1 w-6 rounded ${e<=C?e<=2?"bg-red-500":e<=3?"bg-yellow-500":"bg-green-500":"bg-gray-600"}`},e))}),(0,s.jsx)("span",{className:`text-xs ${P.color}`,children:P.label})]}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Password must be at least 8 characters long"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(c.Lock,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:b?"text":"password",value:i.confirmPassword,onChange:e=>{m(s=>({...s,confirmPassword:e.target.value})),j(null)},className:"block w-full pl-10 pr-12 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:"Confirm your new password",disabled:f}),(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!b),disabled:f,children:b?(0,s.jsx)(d.EyeOff,{className:"h-4 w-4 text-gray-400 hover:text-gray-300"}):(0,s.jsx)(o.Eye,{className:"h-4 w-4 text-gray-400 hover:text-gray-300"})})]}),i.confirmPassword&&i.newPassword!==i.confirmPassword&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-400",children:"Passwords do not match"})]}),y&&(0,s.jsx)("div",{className:"bg-red-900/50 border border-red-500/50 text-red-300 px-4 py-3 rounded-lg text-sm",children:y}),(0,s.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,s.jsx)("button",{onClick:N,disabled:!S||f,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),"Updating..."]}):"Change Password"}),(0,s.jsx)("button",{onClick:k,disabled:f,className:"flex-1 bg-red-500/30 hover:bg-red-500/50 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})]})}var x=e.i(263488);function u({open:e,currentEmail:t,onClose:a,onSuccess:l}){let[n,i]=(0,r.useState)({currentPassword:"",newEmail:"",confirmEmail:""}),[m,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[b,g]=(0,r.useState)(null);if(!e)return null;let f=()=>n.currentPassword?n.newEmail?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.newEmail)?n.newEmail!==n.confirmEmail?"Email addresses do not match":n.newEmail.toLowerCase()===t.toLowerCase()?"New email must be different from current email":null:"Please enter a valid email address":"New email is required":"Current password is required",w=async()=>{let e=f();if(e)return void g(e);p(!0),g(null);try{let e=await fetch("/api/user/email",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:n.currentPassword,newEmail:n.newEmail})}),s=await e.json();s.success?(i({currentPassword:"",newEmail:"",confirmEmail:""}),l()):g(s.error||"Failed to change email")}catch(e){console.error("Email change error:",e),g("Failed to change email. Please try again.")}finally{p(!1)}},y=()=>{h||(i({currentPassword:"",newEmail:"",confirmEmail:""}),g(null),u(!1),a())},j=null===f();return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-xs animate__animated animate__fadeIn animate__faster","aria-hidden":"true",onClick:y}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md mx-4 rounded-md border border-white/5  bg-[#171717] text-white shadow-xl  animate__animated animate__zoomIn",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-5 py-4 border-b border-white/5 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-base font-semibold",children:"Change Email"}),(0,s.jsx)("button",{type:"button","aria-label":"Close",className:"text-white/70 hover:text-white",onClick:y,disabled:h,children:"✕"})]}),(0,s.jsx)("div",{className:"px-5 py-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Email"}),(0,s.jsx)("div",{className:"w-full px-2 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md text-gray-400/50",children:t})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(c.Lock,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"currentPassword",name:"currentPassword",type:m?"text":"password",value:n.currentPassword,onChange:e=>{i(s=>({...s,currentPassword:e.target.value})),g(null)},className:"block w-full pl-10 pr-12 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:"Enter your current password",disabled:h}),(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!m),disabled:h,children:m?(0,s.jsx)(d.EyeOff,{className:"h-4 w-4 text-gray-400 hover:text-gray-300"}):(0,s.jsx)(o.Eye,{className:"h-4 w-4 text-gray-400 hover:text-gray-300"})})]}),(0,s.jsx)("p",{className:"mt-2 text-xs text-gray-400",children:"Verify your identity to change email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"newEmail",className:"block text-sm font-medium text-gray-300 mb-2",children:"New Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(x.Mail,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"newEmail",name:"newEmail",type:"email",value:n.newEmail,onChange:e=>{i(s=>({...s,newEmail:e.target.value})),g(null)},className:"block w-full pl-10 pr-3 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:"Enter your new email address",disabled:h})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmEmail",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(x.Mail,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"confirmEmail",name:"confirmEmail",type:"email",value:n.confirmEmail,onChange:e=>{i(s=>({...s,confirmEmail:e.target.value})),g(null)},className:"block w-full pl-10 pr-3 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:"Confirm your new email address",disabled:h})]}),n.confirmEmail&&n.newEmail!==n.confirmEmail&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-400",children:"Email addresses do not match"})]}),(0,s.jsx)("div",{className:"bg-yellow-900/20 border border-yellow-500/5 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-xs text-yellow-300/70",children:"A verification link will be sent to your new email address. You must click it to confirm the change."})}),b&&(0,s.jsx)("div",{className:"bg-red-900/50 border border-red-500/50 text-red-300 px-4 py-3 rounded-lg text-sm",children:b}),(0,s.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,s.jsx)("button",{onClick:w,disabled:!j||h,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),"Sending Verification..."]}):"Send Verification Email"}),(0,s.jsx)("button",{onClick:y,disabled:h,className:"flex-1 bg-red-500/30 hover:bg-red-500/50 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})]})}var h=e.i(269638),p=e.i(373884);function b({open:e,type:t,message:a,onClose:r,closable:l=!0}){return e?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70","aria-hidden":"true",onClick:()=>{l&&r?.()}}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md mx-4 rounded-md border border-white/5  bg-[#171717] text-white shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-5 py-4 border-b border-white/10 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-base font-semibold",children:(()=>{switch(t){case"uploading":return"Uploading Avatar";case"success":return"Success";case"error":return"Upload Error"}})()}),l&&(0,s.jsx)("button",{type:"button","aria-label":"Close",className:"text-white/70 hover:text-white",onClick:r,children:"✕"})]}),(0,s.jsx)("div",{className:"px-5 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(()=>{switch(t){case"uploading":return(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-yellow-400"});case"success":return(0,s.jsx)(h.CheckCircle,{className:"h-8 w-8 text-green-400"});case"error":return(0,s.jsx)(p.XCircle,{className:"h-8 w-8 text-red-400"})}})(),(0,s.jsx)("p",{className:`text-sm ${(()=>{switch(t){case"uploading":return"text-white/80";case"success":return"text-green-300";case"error":return"text-red-300"}})()}`,children:a})]})})]})]}):null}function g({isOpen:e,onClose:t,onSuccess:a}){let[l,n]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[p,b]=(0,r.useState)(""),[g,f]=(0,r.useState)(""),w=async e=>{if(e.preventDefault(),b(""),f(""),!l.trim())return void b("Please enter your game account username");if(!i)return void b("Please enter your game account password");if(!d)return void b("Please accept the disclaimer to continue");h(!0);try{let e=await fetch("/api/user/link-game-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l.trim(),password:i,disclaimerAccepted:d})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to link game account");f(s.message||"Game account linked successfully!"),n(""),o(""),c(!1),setTimeout(()=>{a?.(),t()},1500)}catch(e){console.error("Error linking game account:",e),b(e instanceof Error?e.message:"An unexpected error occurred")}finally{h(!1)}},y=()=>{u||(n(""),o(""),c(!1),b(""),f(""),t())};return e?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-xs animate__animated animate__fadeIn animate__faster","aria-hidden":"true",onClick:y}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md mx-4 rounded-md border border-white/5  bg-[#171717] text-white shadow-xl max-h-[90vh] overflow-y-auto animate__animated animate__zoomIn",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-5 py-4 border-b border-white/5 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-base font-semibold",children:"Add Existing Game Account"}),!u&&(0,s.jsx)("button",{type:"button","aria-label":"Close",className:"text-white/70 hover:text-white",onClick:y,children:"✕"})]}),(0,s.jsx)("form",{onSubmit:w,className:"px-5 py-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"game-username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Game Account Username"}),(0,s.jsx)("input",{id:"game-username",type:"text",value:l,onChange:e=>n(e.target.value),className:"block w-full px-2 py-2 border border-white/10 rounded-lg bg-[#323232] md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:"Enter your game account username",disabled:u,autoComplete:"off"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"game-password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Game Account Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"game-password",type:m?"text":"password",value:i,onChange:e=>o(e.target.value),className:"block w-full px-2 py-2 pr-10 border border-white/10 rounded-lg bg-[#323232] md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:"Enter your game account password",disabled:u,autoComplete:"off"}),(0,s.jsx)("button",{type:"button",onClick:()=>x(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",tabIndex:-1,disabled:u,children:m?(0,s.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]})]}),(0,s.jsx)("div",{className:"bg-yellow-900/20 border border-yellow-500/5 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("input",{id:"disclaimer",type:"checkbox",checked:d,onChange:e=>c(e.target.checked),className:"mt-1 w-4 h-4 text-yellow-500 bg-[#323232] border-white/5 rounded focus:ring-yellow-500",disabled:u}),(0,s.jsxs)("label",{htmlFor:"disclaimer",className:"text-xs text-yellow-300/70 cursor-pointer",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Important:"})," I confirm that I am the rightful owner of this game account. I understand that linking an account that does not belong to me may result in my website account being suspended globally, and the linked game account may be subject to penalties or bans."]})]})}),p&&(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-sm text-red-300",children:p})}),g&&(0,s.jsx)("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-sm text-green-300",children:g})}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-white/10 mt-4",children:[(0,s.jsx)("button",{type:"button",onClick:y,disabled:u,className:"px-4 py-2 text-sm font-medium text-white/70 hover:text-white border border-white/10 rounded-md bg-red-500/30 hover:bg-red-500/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:u||!d,className:"px-4 py-2 text-sm font-medium text-white bg-yellow-600 rounded-md hover:bg-yellow-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:"Linking..."})]}):(0,s.jsx)("span",{children:"Link Account"})})]})]})})]})]}):null}var f=e.i(878894);function w({isOpen:e,onClose:t,onSuccess:a,gameAccountId:l,gameAccountUsername:n}){let[i,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),u=async e=>{if(e.preventDefault(),c(""),"unlink"!==m.toLowerCase())return void c('Please type "DELETE" to confirm');if(!l)return void c("Invalid game account");o(!0);try{let e=await fetch("/api/user/unlink-game-account",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameAccountId:l})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to unlink game account");x(""),a?.(),t()}catch(e){console.error("Error unlinking game account:",e),c(e instanceof Error?e.message:"An unexpected error occurred")}finally{o(!1)}},h=()=>{i||(x(""),c(""),t())};return e?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-xs animate__animated animate__fadeIn animate__faster","aria-hidden":"true",onClick:h}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md mx-4 rounded-md border border-white/5  bg-[#171717] text-white shadow-xl animate__animated animate__zoomIn",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-5 py-4 border-b border-white/5 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-base font-semibold text-red-400",children:"Unlink Game Account"}),!i&&(0,s.jsx)("button",{type:"button","aria-label":"Close",className:"text-white/70 hover:text-white",onClick:h,children:"✕"})]}),(0,s.jsx)("form",{onSubmit:u,className:"px-5 py-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-500/5 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)(f.AlertTriangle,{className:"w-5 h-5 text-red-300/50 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-red-300/70 font-semibold",children:"Warning: This action cannot be undone!"}),(0,s.jsxs)("p",{className:"text-xs text-red-300/50",children:["You are about to unlink the game account ",(0,s.jsx)("span",{className:"font-semibold",children:n})," from your website account. This will remove all association between your website account and this game account."]}),(0,s.jsx)("p",{className:"text-xs text-red-300/50",children:"You can always re-link this account later if needed."})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"confirm-delete",className:"block text-sm font-medium text-gray-300 mb-2",children:["Type ",(0,s.jsx)("span",{className:"font-semibold text-red-400/70",children:"UNLINK"})," to confirm"]}),(0,s.jsx)("input",{id:"confirm-delete",type:"text",value:m,onChange:e=>{x(e.target.value),c("")},className:"w-full px-3 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600/50           focus:text-red-400 focus:border-transparent transition-all duration-300",placeholder:"Type UNLINK",disabled:i,autoComplete:"off"})]}),d&&(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-sm text-red-300",children:d})}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-white/10",children:[(0,s.jsx)("button",{type:"button",onClick:h,disabled:i,className:"px-4 py-2 text-sm font-medium text-white/70 hover:text-white border border-white/10 rounded-md hover:bg-white/5 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:i||"unlink"!==m.toLowerCase(),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:"Unlinking..."})]}):(0,s.jsx)("span",{children:"Unlink Account"})})]})]})})]})]}):null}var y=e.i(475254);let j=(0,y.default)("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);function v({isOpen:e,onClose:t,onSuccess:a,gameAccountId:l,gameAccountUsername:n}){let i,[m,x]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[p,b]=(0,r.useState)(""),[g,f]=(0,r.useState)(!1),[w,y]=(0,r.useState)(!1),[v,N]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1),[P,S]=(0,r.useState)(""),[E,_]=(0,r.useState)(""),A=(i=0,u.length>=6&&i++,u.length>=10&&i++,/[a-z]/.test(u)&&/[A-Z]/.test(u)&&i++,/\d/.test(u)&&i++,/[^a-zA-Z0-9]/.test(u)&&i++,i),z=A<=1?{label:"Weak",color:"text-red-400"}:A<=2?{label:"Fair",color:"text-yellow-400"}:A<=3?{label:"Good",color:"text-green-400"}:{label:"Strong",color:"text-green-500"},I=async e=>{if(e.preventDefault(),S(""),_(""),!m)return void S("Please enter your current password");if(!u)return void S("Please enter a new password");if(u.length<3||u.length>16)return void S("New password must be between 3 and 16 characters");if(u!==p)return void S("New passwords do not match");if(m===u)return void S("New password must be different from current password");if(!l)return void S("Invalid game account");C(!0);try{let e=await fetch("/api/user/game-account-password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameAccountId:l,currentPassword:m,newPassword:u})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to change password");_(s.message||"Password changed successfully!"),x(""),h(""),b(""),setTimeout(()=>{a?.(),t()},1500)}catch(e){console.error("Error changing game account password:",e),S(e instanceof Error?e.message:"An unexpected error occurred")}finally{C(!1)}},T=()=>{k||(x(""),h(""),b(""),S(""),_(""),t())};return e?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70absolute inset-0 bg-black/70 backdrop-blur-xs animate__animated animate__fadeIn animate__faster","aria-hidden":"true",onClick:T}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md mx-4 rounded-md border border-white/5  bg-[#171717] text-white shadow-xl max-h-[90vh] overflow-y-auto animate__animated animate__zoomIn",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-5 py-4 border-b border-white/5 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-base font-semibold",children:"Change Game Account Password"}),!k&&(0,s.jsx)("button",{type:"button","aria-label":"Close",className:"text-white/70 hover:text-white",onClick:T,children:"✕"})]}),(0,s.jsx)("form",{onSubmit:I,className:"px-5 py-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-yellow-900/20 border border-yellow-500/5 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-xs text-yellow-300/70",children:["Changing password for: ",(0,s.jsx)("span",{className:"font-semibold",children:n})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"current-password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(c.Lock,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"current-password",type:g?"text":"password",value:m,onChange:e=>{x(e.target.value),S("")},className:"block w-full pl-10 pr-10 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-600/50           focus:text-yellow-400 focus:border-transparent transition-all duration-300",placeholder:"Enter current password",disabled:k,autoComplete:"off"}),(0,s.jsx)("button",{type:"button",onClick:()=>f(!g),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",tabIndex:-1,disabled:k,children:g?(0,s.jsx)(d.EyeOff,{className:"h-4 w-4"}):(0,s.jsx)(o.Eye,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(j,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"new-password",type:w?"text":"password",value:u,onChange:e=>{h(e.target.value),S("")},className:"block w-full pl-10 pr-10 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-600/50           focus:text-yellow-400 focus:border-transparent transition-all duration-300",placeholder:"Enter new password",disabled:k,autoComplete:"off"}),(0,s.jsx)("button",{type:"button",onClick:()=>y(!w),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",tabIndex:-1,disabled:k,children:w?(0,s.jsx)(d.EyeOff,{className:"h-4 w-4"}):(0,s.jsx)(o.Eye,{className:"h-4 w-4"})})]}),u&&(0,s.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(e=>(0,s.jsx)("div",{className:`h-1 w-6 rounded ${e<=A?e<=2?"bg-red-500":e<=3?"bg-yellow-500":"bg-green-500":"bg-gray-600"}`},e))}),(0,s.jsx)("span",{className:`text-xs ${z.color}`,children:z.label})]}),(0,s.jsx)("p",{className:"mt-2 text-xs text-gray-400",children:"Password must be 3-16 characters"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(j,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"confirm-password",type:v?"text":"password",value:p,onChange:e=>{b(e.target.value),S("")},className:"block w-full pl-10 pr-10 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-600/50           focus:text-yellow-400 focus:border-transparent transition-all duration-300",placeholder:"Confirm new password",disabled:k,autoComplete:"off"}),(0,s.jsx)("button",{type:"button",onClick:()=>N(!v),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",tabIndex:-1,disabled:k,children:v?(0,s.jsx)(d.EyeOff,{className:"h-4 w-4"}):(0,s.jsx)(o.Eye,{className:"h-4 w-4"})})]}),p&&u!==p&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-400",children:"Passwords do not match"})]}),P&&(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-sm text-red-300",children:P})}),E&&(0,s.jsx)("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-sm text-green-300",children:E})}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-white/10",children:[(0,s.jsx)("button",{type:"button",onClick:T,disabled:k,className:"bg-red-500/30 hover:bg-red-500/50 text-white/70 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:k||!m||!u||!p||u!==p,className:"px-4 py-2 text-sm font-medium text-white bg-yellow-600 rounded-md hover:bg-yellow-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:k?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:"Changing..."})]}):(0,s.jsx)("span",{children:"Change Password"})})]})]})})]})]}):null}var N=e.i(284614);function k({isOpen:e,onClose:t,onSuccess:a}){let l,[n,i]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[x,u]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[b,g]=(0,r.useState)(!1),[f,w]=(0,r.useState)(!1),[y,v]=(0,r.useState)(""),[k,C]=(0,r.useState)(""),P=(l=0,c.length>=6&&l++,c.length>=10&&l++,/[a-z]/.test(c)&&/[A-Z]/.test(c)&&l++,/\d/.test(c)&&l++,/[^a-zA-Z0-9]/.test(c)&&l++,l),S=P<=1?{label:"Weak",color:"text-red-400"}:P<=2?{label:"Fair",color:"text-yellow-400"}:P<=3?{label:"Good",color:"text-green-400"}:{label:"Strong",color:"text-green-500"},E=async e=>{if(e.preventDefault(),v(""),C(""),!n.trim())return void v("Please enter a username");if(n.length<3||n.length>16)return void v("Username must be between 3 and 16 characters");if(!/^[a-zA-Z0-9]+$/.test(n))return void v("Username can only contain letters and numbers");if(!c)return void v("Please enter a password");if(c.length<3||c.length>16)return void v("Password must be between 3 and 16 characters");if(c!==x)return void v("Passwords do not match");w(!0);try{let e=await fetch("/api/user/create-game-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.trim(),password:c})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to create game account");C(s.message||"Game account created successfully!"),i(""),m(""),u(""),setTimeout(()=>{a?.(),t()},1500)}catch(e){console.error("Error creating game account:",e),v(e instanceof Error?e.message:"An unexpected error occurred")}finally{w(!1)}},_=()=>{f||(i(""),m(""),u(""),v(""),C(""),t())};return e?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-xs animate__animated animate__fadeIn animate__faster","aria-hidden":"true",onClick:_}),(0,s.jsxs)("div",{className:"relative z-10 w-full max-w-md mx-4 rounded-md border border-white/5  bg-[#171717] text-white shadow-xl max-h-[90vh] overflow-y-auto animate__animated animate__zoomIn",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"px-5 py-4 border-b border-white/5 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-base font-semibold",children:"Create New Game Account"}),!f&&(0,s.jsx)("button",{type:"button","aria-label":"Close",className:"text-white/70 hover:text-white",onClick:_,children:"✕"})]}),(0,s.jsx)("form",{onSubmit:E,className:"px-5 py-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-green-900/20 border border-green-500/5 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-xs text-green-300/50",children:"Create a new game account that will be automatically linked to your website account."})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(N.User,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"username",type:"text",value:n,onChange:e=>{i(e.target.value),v("")},className:"block w-full pl-10 pr-3 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:"Choose a username",disabled:f,autoComplete:"off"})]}),(0,s.jsx)("p",{className:"mt-2 text-xs text-gray-400",children:"3-16 characters, letters and numbers only"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(j,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"password",type:h?"text":"password",value:c,onChange:e=>{m(e.target.value),v("")},className:"block w-full pl-10 pr-10 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:"Choose a password",disabled:f,autoComplete:"off"}),(0,s.jsx)("button",{type:"button",onClick:()=>p(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",tabIndex:-1,disabled:f,children:h?(0,s.jsx)(d.EyeOff,{className:"h-4 w-4"}):(0,s.jsx)(o.Eye,{className:"h-4 w-4"})})]}),c&&(0,s.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(e=>(0,s.jsx)("div",{className:`h-1 w-6 rounded ${e<=P?e<=2?"bg-red-500":e<=3?"bg-yellow-500":"bg-green-500":"bg-gray-600"}`},e))}),(0,s.jsx)("span",{className:`text-xs ${S.color}`,children:S.label})]}),(0,s.jsx)("p",{className:"mt-2 text-xs text-gray-400",children:"3-16 characters"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(j,{className:"h-4 w-4 text-gray-400/50"})}),(0,s.jsx)("input",{id:"confirm-password",type:b?"text":"password",value:x,onChange:e=>{u(e.target.value),v("")},className:"block w-full pl-10 pr-10 py-2 bg-[#272727] border border-white/10 rounded-md shadow-md          text-white/50 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/15           focus:text-white focus:border-transparent transition-all duration-300",placeholder:"Confirm your password",disabled:f,autoComplete:"off"}),(0,s.jsx)("button",{type:"button",onClick:()=>g(!b),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",tabIndex:-1,disabled:f,children:b?(0,s.jsx)(d.EyeOff,{className:"h-4 w-4"}):(0,s.jsx)(o.Eye,{className:"h-4 w-4"})})]}),x&&c!==x&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-400",children:"Passwords do not match"})]}),y&&(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-sm text-red-300",children:y})}),k&&(0,s.jsx)("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-sm text-green-300",children:k})}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-white/10",children:[(0,s.jsx)("button",{type:"button",onClick:_,disabled:f,className:"bg-red-500/30 hover:bg-red-500/50 text-white/70 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:f||!n||!c||!x||c!==x,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:"Creating..."})]}):(0,s.jsx)("span",{children:"Create Account"})})]})]})})]})]}):null}let C=(0,y.default)("user-round",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);var P=e.i(318286);let S=(0,y.default)("chart-no-axes-column",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]]),E=(0,y.default)("navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),_=(0,y.default)("clock-10",[["path",{d:"M12 6v6l-4-2",key:"cedpoo"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),A=(0,y.default)("calendar-arrow-up",[["path",{d:"m14 18 4-4 4 4",key:"ftkppy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M18 22v-8",key:"su0gjh"}],["path",{d:"M21 11.343V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9",key:"1exg90"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]]),z=(0,y.default)("key-square",[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z",key:"165ttr"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814",key:"1ubxi2"}]]),I=(0,y.default)("link-2-off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),T=(0,y.default)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);var F=e.i(346897),L=e.i(167881),M=e.i(728231);function U({account:e,onChangePassword:t,onUnlinkAccount:a,formatDate:l,formatDateTime:n,formatBanTime:i}){var o;let[d,c]=(0,r.useState)("overview"),m=[{id:"overview",label:"Overview",icon:C},{id:"logging",label:"Logging",icon:E},{id:"actions",label:"Actions",icon:z}];return(0,s.jsxs)("div",{className:`relative rounded-md p-3 md:p-4 ${e.banned?"border border-red-500/30 bg-red-900/10":"bg-[#272727]"}`,children:[(0,s.jsx)("div",{className:"flex space-x-1 mb-4 border-b border-white/10 overflow-x-auto",children:m.map(e=>{let t=e.icon;return(0,s.jsxs)("button",{onClick:()=>c(e.id),className:`flex items-center gap-1.5 px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${d===e.id?"text-yellow-400 border-b-2 border-yellow-400":"text-gray-400 hover:text-white"}`,children:[(0,s.jsx)(t,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.label]},e.id)})}),(0,s.jsxs)("div",{children:["overview"===d&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Basic account information and current status"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1 text-sm text-gray-400",children:[(0,s.jsx)(T,{className:"text-red-400 w-4 h-4"}),(0,s.jsx)("span",{className:"text-red-400",children:"Account Id"})]}),(0,s.jsx)("p",{className:"pl-5 text-sm text-white/70 font-bold",children:e.gameAccountId})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1 text-sm text-teal-400",children:[(0,s.jsx)(C,{className:"text-teal-400 w-4 h-4"}),(0,s.jsx)("span",{children:"Username"})]}),(0,s.jsx)("p",{className:"pl-5 text-sm text-white/70 font-bold",children:e.username})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1 text-sm text-purple-400",children:[(0,s.jsx)(P.ActivityIcon,{className:"text-purple-400 w-4 h-4"}),(0,s.jsx)("span",{children:"Activity"})]}),(0,s.jsx)("p",{className:`pl-5 text-xs font-medium ${(o=e.onlineStatus,e.banned?"text-red-400":"Online"===o?"text-green-400":"text-red-400/50")}`,children:e.onlineStatus})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1 text-sm text-pink-400",children:[(0,s.jsx)(S,{className:"text-pink-400 w-4 h-4"}),(0,s.jsx)("span",{children:"Status"})]}),(0,s.jsxs)("p",{className:`text-sm ${e.banned?"text-red-400":"text-green-400"}`,children:[e.banned?"Banned":"Good Standing",e.banned&&e.banTimeSeconds>0&&(0,s.jsxs)("span",{className:"block text-red-300 mt-1",children:["Time left: ",i(e.banTimeSeconds)]})]})]})]})]}),"logging"===d&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Connection details and account history"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1 text-sm text-green-400",children:[(0,s.jsx)(E,{className:"text-green-400 w-4 h-4"}),(0,s.jsx)("span",{children:"Last IP"})]}),(0,s.jsx)("p",{className:"text-sm text-white/70 font-bold",children:e.lastIp})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1 text-sm text-blue-400",children:[(0,s.jsx)(_,{className:"text-blue-400 w-4 h-4"}),(0,s.jsx)("span",{children:"Last Login"})]}),(0,s.jsx)("p",{className:"text-sm text-white/70 font-bold",children:n(e.lastLogin)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1 text-sm text-yellow-400",children:[(0,s.jsx)(A,{className:"text-yellow-400 w-4 h-4"}),(0,s.jsx)("span",{children:"Date Linked"})]}),(0,s.jsx)("p",{className:"text-sm text-white/70 font-bold",children:l(e.dateLinked)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1 text-sm text-orange-400",children:[(0,s.jsx)(F.MapPin,{className:"text-orange-400 w-4 h-4"}),(0,s.jsx)("span",{children:"IP When Linked"})]}),(0,s.jsx)("p",{className:"text-sm text-white/70 font-bold",children:e.ipWhenLinked})]})]})]}),"actions"===d&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Manage your account password and linking status"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3",children:[(0,s.jsx)(M.TooltipProvider,{children:(0,s.jsxs)(M.Tooltip,{children:[(0,s.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)(L.Button,{onClick:()=>t(e.gameAccountId,e.username),className:"flex items-center justify-center gap-2 text-yellow-500 bg-yellow-500/10 hover:text-white hover:bg-yellow-500/70 border-white/5 w-full sm:w-auto",variant:"outline",children:[(0,s.jsx)(z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Change Password"})]})}),(0,s.jsx)(M.TooltipContent,{className:"dark px-2 py-1 text-xs",children:(0,s.jsx)("p",{children:"Update your game account password"})})]})}),(0,s.jsx)(M.TooltipProvider,{children:(0,s.jsxs)(M.Tooltip,{children:[(0,s.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)(L.Button,{onClick:()=>a(e.gameAccountId,e.username),className:"flex items-center justify-center gap-2 text-red-400 bg-red-500/10 hover:text-white hover:bg-red-400/30 border-white/5 w-full sm:w-auto",variant:"outline",children:[(0,s.jsx)(I,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Unlink Account"})]})}),(0,s.jsx)(M.TooltipContent,{className:"dark px-2 py-1 text-xs",children:(0,s.jsx)("p",{children:"Remove this account from your profile"})})]})})]})]})]})]})}var B=e.i(361277),B=B;let D=(0,y.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var O=e.i(970682);let $=(0,y.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var G=e.i(569074),V=e.i(846753),V=V,W=e.i(788699),H=e.i(603908),H=H,J=e.i(879002),R=e.i(475215);function Z(){let e=(0,n.useRouter)(),{data:o,update:d}=(0,a.useSession)(),[c,x]=(0,r.useState)(null),[h,p]=(0,r.useState)([]),[f,y]=(0,r.useState)(!0),[j,N]=(0,r.useState)(!0),[P,S]=(0,r.useState)(null),[E,_]=(0,r.useState)(null),[A,z]=(0,r.useState)(!1),[I,T]=(0,r.useState)(""),[F,Z]=(0,r.useState)(!1),[Y,q]=(0,r.useState)(""),[K,X]=(0,r.useState)(null),[Q,ee]=(0,r.useState)(!0),[es,et]=(0,r.useState)(!1),[ea,er]=(0,r.useState)(!1),[el,en]=(0,r.useState)({open:!1,type:"uploading",message:""}),[ei,eo]=(0,r.useState)(Date.now()),ed=(0,r.useRef)(null),[ec,em]=(0,r.useState)(!1),[ex,eu]=(0,r.useState)({open:!1,gameAccountId:null,username:""}),[eh,ep]=(0,r.useState)({open:!1,gameAccountId:null,username:""}),[eb,eg]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(0,l.setClientMetadata)("Dashboard",`Your ${l.siteConfig.name} dashboard - View your profile, manage your account, and track your progress.`,"dashboard, profile, account, user panel","/dashboard")},[]),(0,r.useEffect)(()=>{(async()=>{if(o?.user?.id)try{let e=await fetch("/api/user"),s=await e.json();s.success?x(s.data):S(s.error||"Failed to load dashboard data")}catch(e){S("Failed to connect to server"),console.error("Dashboard fetch error:",e)}finally{y(!1)}})()},[o]);let ef=async()=>{if(o?.user?.id){N(!0);try{let e=await fetch("/api/user/linked-accounts"),s=await e.json();s.success?(p(s.data),_(null)):_(s.error||"Failed to load game accounts")}catch(e){_("Failed to connect to server"),console.error("Game accounts fetch error:",e)}finally{N(!1)}}};(0,r.useEffect)(()=>{ef()},[o]);let ew=()=>{ed.current?.click()},ey=async e=>{let s=e.target.files?.[0];if(s){if(s.size>5242880)return void en({open:!0,type:"error",message:"File size must be less than 5MB."});if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(s.type))return void en({open:!0,type:"error",message:"Only JPEG, PNG, and WebP files are allowed."});en({open:!0,type:"uploading",message:"Please wait while we upload your avatar..."});try{let e=new FormData;e.append("avatar",s);let t=await fetch("/api/user/avatar",{method:"POST",body:e}),a=await t.json();if(a.success){let e=Date.now();eo(e),x(e=>e?{...e,avatar_path:a.data.avatar_path}:null),await d({user:{image:a.data.avatar_path}}),en({open:!0,type:"success",message:"Avatar updated successfully!"})}else en({open:!0,type:"error",message:a.error||"Failed to update avatar"})}catch(e){console.error("Avatar upload error:",e),en({open:!0,type:"error",message:"Failed to upload avatar. Please try again."})}finally{ed.current&&(ed.current.value="")}}},ej=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),ev=e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",eN=e=>{if(0===e)return"Permanent";let s=e-Math.floor(Date.now()/1e3);if(s<=0)return"Expired";let t=Math.floor(s/86400),a=Math.floor(s%86400/3600),r=Math.floor(s%3600/60);return t>0?`${t}d ${a}h ${r}m`:a>0?`${a}h ${r}m`:`${r}m`},ek=async()=>{if(I.trim()&&I.trim()!==c?.display_name){ee(!1),q("Updating Display Name"),X((0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm text-white/80",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-yellow-400"}),(0,s.jsx)("span",{children:"Please wait while we update your display name..."})]}));try{let e=await fetch("/api/user/display-name",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({display_name:I.trim()})}),t=await e.json();t.success?(x(e=>e?{...e,display_name:t.data.display_name}:null),q("Success"),X((0,s.jsx)("p",{className:"text-sm text-green-300",children:"Display name updated successfully!"}))):(q("Update Error"),X((0,s.jsx)("p",{className:"text-sm text-red-300",children:t.error||"Failed to update display name"}))),ee(!0)}catch(e){console.error("Display name update error:",e),q("Update Error"),X((0,s.jsx)("p",{className:"text-sm text-red-300",children:"Failed to update display name."})),ee(!0)}finally{z(!1),Z(!0)}}},eC=(e,s)=>{eu({open:!0,gameAccountId:e,username:s})},eP=(e,s)=>{ep({open:!0,gameAccountId:e,username:s})};return f?(0,s.jsx)("div",{className:"flex flex-col min-h-screen",children:(0,s.jsx)("main",{className:"flex-grow flex items-center justify-center p-4",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-500"})})}):P?(0,s.jsx)("div",{className:"flex flex-col min-h-screen",children:(0,s.jsx)("main",{className:"flex-grow flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-red-900/20 backdrop-blur-sm rounded-xl border border-red-500/20 p-6",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-red-400 mb-4",children:"Error"}),(0,s.jsx)("p",{className:"text-red-300",children:P})]})})}):c?(0,s.jsx)("div",{className:"flex flex-col min-h-screen",children:(0,s.jsxs)("main",{className:"flex-grow flex items-start justify-center p-4 relative",children:[(0,s.jsx)(i,{open:F,title:Y,onClose:()=>Z(!1),closable:Q,showInput:A,inputValue:I,onInputChange:T,inputPlaceholder:"Enter your new display name",inputMaxLength:50,inputLabel:"New Display Name",showButtons:A,primaryButtonText:"Save Changes",secondaryButtonText:"Cancel",onPrimaryClick:ek,onSecondaryClick:()=>{z(!1),Z(!1)},primaryButtonDisabled:!I.trim()||I.trim()===c?.display_name,children:!A&&K}),(0,s.jsx)(m,{open:es,onClose:()=>et(!1),onSuccess:()=>{et(!1),q("Success"),X((0,s.jsx)("p",{className:"text-sm text-green-300",children:"Password changed successfully!"})),ee(!0),Z(!0)}}),(0,s.jsx)(u,{open:ea,currentEmail:c?.email||"",onClose:()=>er(!1),onSuccess:()=>{er(!1),q("Verification Email Sent"),X((0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-green-300",children:"A verification email has been sent to your new email address."}),(0,s.jsx)("p",{className:"text-sm text-gray-300",children:"Please check your inbox and click the verification link to complete the email change."})]})),ee(!0),Z(!0)}}),(0,s.jsx)(b,{open:el.open,type:el.type,message:el.message,onClose:()=>en({...el,open:!1}),closable:"uploading"!==el.type}),(0,s.jsx)(g,{isOpen:ec,onClose:()=>em(!1),onSuccess:()=>{em(!1),q("Success"),X((0,s.jsx)("p",{className:"text-sm text-green-300",children:"Game account linked successfully!"})),ee(!0),Z(!0),ef()}}),(0,s.jsx)(w,{isOpen:ex.open,onClose:()=>eu({open:!1,gameAccountId:null,username:""}),onSuccess:()=>{eu({open:!1,gameAccountId:null,username:""}),q("Success"),X((0,s.jsx)("p",{className:"text-sm text-green-300",children:"Game account unlinked successfully!"})),ee(!0),Z(!0),ef()},gameAccountId:ex.gameAccountId,gameAccountUsername:ex.username}),(0,s.jsx)(v,{isOpen:eh.open,onClose:()=>ep({open:!1,gameAccountId:null,username:""}),onSuccess:()=>{ep({open:!1,gameAccountId:null,username:""}),q("Success"),X((0,s.jsx)("p",{className:"text-sm text-green-300",children:"Game account password changed successfully!"})),ee(!0),Z(!0)},gameAccountId:eh.gameAccountId,gameAccountUsername:eh.username}),(0,s.jsx)(k,{isOpen:eb,onClose:()=>eg(!1),onSuccess:()=>{eg(!1),q("Success"),X((0,s.jsx)("p",{className:"text-sm text-green-300",children:"Game account created and linked successfully!"})),ee(!0),Z(!0),ef()}}),(0,s.jsxs)("div",{className:"max-w-7xl w-full bg-[#212121]/70 backdrop-blur-sm rounded-sm shadow-md border border-white/5 p-8 my-12",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-6 animate__animated animate__fadeInDown",children:"Dashboard"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-[#272727]/50 rounded-sm p-6 border border-white/5",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Profile"}),(0,s.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,s.jsxs)("div",{className:"relative cursor-pointer group",onClick:ew,children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden border-2 border-white/20 group-hover:border-yellow-500/50 transition-colors",children:c.avatar_path?(0,s.jsx)(t.default,{src:`${c.avatar_path}${c.avatar_path.includes("?")?"&":"?"}t=${ei}`,alt:"User Avatar",width:96,height:96,className:"w-full h-full object-cover",unoptimized:!0,onError:e=>{e.target.src="/default-avatar.jpg"}},`${c.avatar_path}-${ei}`):(0,s.jsx)("div",{className:"w-full h-full bg-gray-600 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-400"})})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:el.open&&"uploading"===el.type?(0,s.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-white"}):(0,s.jsx)(D,{className:"w-6 h-6 text-white"})})]}),(0,s.jsxs)("button",{onClick:ew,disabled:el.open&&"uploading"===el.type,className:"mt-2 text-sm text-yellow-400 hover:text-yellow-300 transition-colors  disabled:opacity-50 flex items-center gap-1 cursor-pointer",children:[(0,s.jsx)(G.Upload,{className:"w-4 h-4"}),el.open&&"uploading"===el.type?"Uploading...":"Change Avatar"]}),(0,s.jsx)("input",{ref:ed,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:ey,className:"hidden"})]}),(0,s.jsxs)("div",{className:"space-y-3 text-gray-300",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-400 font-medium",children:[(0,s.jsx)(V.default,{className:"w-4 h-4 inline-block mr-2 -mt-1"}),"Display Name:"]}),(0,s.jsx)(M.TooltipProvider,{children:(0,s.jsxs)(M.Tooltip,{children:[(0,s.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,s.jsx)(L.Button,{onClick:()=>{T(c?.display_name||""),z(!0),q("Edit Display Name"),ee(!0),Z(!0)},className:"text-white/70 hover:text-white hover:bg-yellow-500/70 rounded-full border-white/5 cursor-pointer",variant:"ghost",size:"icon","aria-label":"Edit display name",children:(0,s.jsx)(W.Pencil,{className:"w-4 h-4"})})}),(0,s.jsx)(M.TooltipContent,{className:"dark px-2 py-1 text-xs",children:(0,s.jsx)("p",{children:"Edit display name"})})]})})]}),(0,s.jsx)("p",{className:"text-white font-light",children:c.display_name})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-400 font-medium",children:[(0,s.jsx)(O.MailIcon,{className:"w-4 h-4 inline-block mr-2 -mt-1"}),"Email:"]}),(0,s.jsx)("p",{className:"text-white font-light",children:c.email})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-400 font-medium",children:[(0,s.jsx)($,{className:"w-4 h-4 inline-block mr-2 -mt-1"}),"Role:"]}),(0,s.jsx)("p",{className:"text-white font-light",children:c.role_name})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-400 font-medium",children:[(0,s.jsx)(B.default,{className:"w-4 h-4 inline-block mr-2 -mt-1"}),"Member Since:"]}),(0,s.jsx)("p",{className:"text-white font-light",children:ej(c.register_date)})]})]}),(0,s.jsxs)("div",{className:"mt-6 pt-4 border-t border-white/10",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Account Settings"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)(L.Button,{onClick:()=>er(!0),className:"w-full bg-teal-600/20 hover:bg-teal-600/30 text-teal-400 hover:text-teal-300  border border-teal-500/30 hover:border-teal-500/50 rounded-md text-sm font-medium  transition-colors cursor-pointer flex items-center justify-center gap-2",variant:"outline",children:[(0,s.jsx)(O.MailIcon,{className:"w-4 h-4"}),"Change Email"]}),(0,s.jsxs)(L.Button,{onClick:()=>et(!0),className:"w-full bg-red-600/20 hover:bg-red-600/30 text-red-400 hover:text-red-300  border border-red-500/30 hover:border-red-500/50 rounded-md text-sm font-medium  transition-colors cursor-pointer flex items-center justify-center gap-2",variant:"outline",children:[(0,s.jsx)($,{className:"w-4 h-4"}),"Change Password"]})]})]})]})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"bg-[#272727]/50 rounded-sm p-6 border border-white/5",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[(0,s.jsx)("div",{className:"bg-emerald-500/20 rounded-sm p-3 md:p-4 border border-emerald-500/20",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)(t.default,{src:"/crystal-green.png",alt:"Free Crystals",width:18,height:18}),(0,s.jsx)("h3",{className:"text-sm md:text-md font-semibold text-emerald-200",children:"Free Crystals"})]}),(0,s.jsx)("p",{className:"text-xl md:text-2xl font-bold text-white pl-7",children:c.free_crystals.toLocaleString()})]}),(0,s.jsx)("div",{className:"flex items-center sm:justify-end",children:(0,s.jsx)(L.Button,{onClick:()=>e.push("/dashboard/vote"),className:"bg-emerald-500 hover:bg-emerald-400 text-black px-3 py-1.5  rounded-md text-xs font-medium transition-colors cursor-pointer w-full sm:w-auto flex items-center justify-center gap-1.5 shadow-md",variant:"default",children:(0,s.jsx)("span",{className:"whitespace-nowrap uppercase",children:"Vote Now"})})})]})}),(0,s.jsx)("div",{className:"bg-yellow-500/20 rounded-sm p-3 md:p-4 border border-yellow-500/20",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)(t.default,{src:"/crystal-red.png",alt:"Premium Crystals",width:24,height:24}),(0,s.jsx)("h3",{className:"text-sm md:text-md font-semibold text-yellow-200",children:"Premium Crystals"})]}),(0,s.jsx)("p",{className:"text-xl md:text-2xl font-bold text-white pl-8",children:c.premium_crystals.toLocaleString()})]}),(0,s.jsx)("div",{className:"flex items-center sm:justify-end",children:(0,s.jsx)(L.Button,{onClick:()=>e.push("/shop/donate"),className:"bg-yellow-500 hover:bg-yellow-400 text-black px-3 py-1.5  rounded-md text-xs font-medium transition-colors cursor-pointer w-full sm:w-auto flex items-center justify-center gap-1.5 shadow-md",variant:"default",children:(0,s.jsx)("span",{className:"whitespace-nowrap uppercase",children:"Purchase More"})})})]})})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-white/5 rounded-lg border border-white/10",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Dashboard Tools"})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"group relative rounded-lg border border-red-500/20 p-4 cursor-pointer transition-all duration-300 hover:border-red-500/40 hover:scale-105 hover:shadow-lg hover:shadow-red-500/20 overflow-hidden",onClick:()=>{e.push("/dashboard/unstuck")},children:[(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)(t.default,{src:"/user-dashboard/unstuck-tool-bg.avif",alt:"Unstuck background",fill:!0,className:"object-cover opacity-30 group-hover:opacity-40 transition-opacity duration-300",unoptimized:!0}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/10 to-red-600/5 group-hover:from-red-500/15 group-hover:to-red-600/10 transition-colors duration-300"})]}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col items-center text-center",children:[(0,s.jsx)("div",{className:"relative w-16 h-16 mb-3"}),(0,s.jsx)("h4",{className:"uppercase font-cinzel text-white font-semibold mb-1 group-hover:text-red-300 transition-colors",children:"Unstuck Character"}),(0,s.jsx)("p",{className:"text-gray-300 text-sm group-hover:text-gray-300 transition-colors",children:"Free your character from stuck positions"})]})]}),(0,s.jsxs)("div",{className:"group relative rounded-lg border border-green-500/20 p-4 cursor-pointer transition-all duration-300 hover:border-green-500/40 hover:scale-105 hover:shadow-lg hover:shadow-green-500/20 overflow-hidden",onClick:()=>{e.push("/dashboard/teleport"),console.log("Teleport Character clicked")},children:[(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)(t.default,{src:"/user-dashboard/teleport-tool-bg.avif",alt:"Teleport background",fill:!0,className:"object-cover opacity-30 group-hover:opacity-40 transition-opacity duration-300",unoptimized:!0}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-green-600/5 group-hover:from-green-500/15 group-hover:to-green-600/10 transition-colors duration-300"})]}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col items-center text-center",children:[(0,s.jsx)("div",{className:"relative w-16 h-16 mb-3"}),(0,s.jsx)("h4",{className:"uppercase font-cinzel text-white font-semibold mb-1 group-hover:text-green-300 transition-colors",children:"Teleport Character"}),(0,s.jsx)("p",{className:"text-gray-300 text-sm group-hover:text-gray-300 transition-colors",children:"Instantly travel to any location"})]})]}),(0,s.jsxs)("div",{className:"group relative rounded-lg border border-purple-500/20 p-4 cursor-pointer transition-all duration-300 hover:border-purple-500/40 hover:scale-105 hover:shadow-lg hover:shadow-purple-500/20 overflow-hidden",onClick:()=>{e.push("/shop")},children:[(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)(t.default,{src:"/user-dashboard/shop-tool-bg.avif",alt:"Shop background",fill:!0,className:"object-cover opacity-30 group-hover:opacity-40 transition-opacity duration-300",unoptimized:!0}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-blue-500/5 group-hover:from-blue-500/15 group-hover:to-blue-500/10 transition-colors duration-300"})]}),(0,s.jsxs)("div",{className:" relative z-10 flex flex-col items-center text-center",children:[(0,s.jsx)("div",{className:"relative w-16 h-16 mb-3"}),(0,s.jsx)("h4",{className:"uppercase font-cinzel text-white font-semibold mb-1 group-hover:text-purple-300 transition-colors",children:"Shop"}),(0,s.jsx)("p",{className:"text-gray-300 text-sm group-hover:text-gray-300 transition-colors",children:"Browse and purchase items"})]}),(0,s.jsx)(R.BorderBeam,{size:200,initialOffset:0,duration:6,className:"from-transparent via-purple-500 to-transparent",borderWidth:3})]})]})]}),(0,s.jsx)("div",{className:"mt-6 p-3 md:p-4 bg-white/5 rounded-lg border border-white/10",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Recruitment Invitations"}),(0,s.jsx)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:(0,s.jsxs)(L.Button,{onClick:()=>e.push("/dashboard/recruitment"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2  rounded-md text-sm font-medium transition-colors cursor-pointer flex items-center justify-center gap-2",variant:"default",children:[(0,s.jsx)(O.MailIcon,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"View Invitations"})]})})]})}),(0,s.jsxs)("div",{className:"mt-6 p-3 md:p-4 bg-white/5 rounded-lg border border-white/10",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Game Accounts"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[(0,s.jsxs)(L.Button,{onClick:()=>eg(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2  rounded-md text-sm font-medium transition-colors cursor-pointer flex items-center justify-center gap-2",variant:"default",children:[(0,s.jsx)(H.default,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Create New"})]}),(0,s.jsxs)(L.Button,{onClick:()=>em(!0),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2  rounded-md text-sm font-medium transition-colors cursor-pointer flex items-center justify-center gap-2",variant:"default",children:[(0,s.jsx)(J.UserPlus,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Add Existing"})]})]})]}),j?(0,s.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-yellow-400"}),(0,s.jsx)("span",{className:"ml-3 text-gray-300",children:"Loading game accounts..."})]}):E?(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-500/20 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-red-300 text-sm",children:E})}):0===h.length?(0,s.jsxs)("div",{className:"bg-[#323232] border border-gray-600/20 rounded-lg p-4 md:p-6 text-center",children:[(0,s.jsx)(C,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,s.jsx)("h4",{className:"text-white font-medium mb-2",children:"No Game Accounts Linked"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"You haven't linked any game accounts yet."}),(0,s.jsxs)(L.Button,{onClick:()=>em(!0),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2  rounded-md text-sm font-medium transition-colors cursor-pointer flex items-center justify-center gap-2 mx-auto",variant:"default",children:[(0,s.jsx)(J.UserPlus,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Link Your First Account"})]})]}):(0,s.jsx)("div",{className:"space-y-4",children:h.map(e=>(0,s.jsx)(U,{account:e,onChangePassword:eP,onUnlinkAccount:eC,formatDate:ej,formatDateTime:ev,formatBanTime:eN},e.gameAccountId))})]})]})})]})]})]})}):(0,s.jsx)("div",{className:"flex flex-col min-h-screen",children:(0,s.jsx)("main",{className:"flex-grow flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-[#212121]/90 backdrop-blur-sm rounded-xl border border-white/5 p-6",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-white mb-4",children:"No Data"}),(0,s.jsx)("p",{className:"text-gray-300",children:"No user data found."})]})})})}e.s(["default",()=>Z],857378)}]);